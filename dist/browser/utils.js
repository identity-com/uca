'use strict';var _=require("lodash"),getValidIdentifiers=function(a){return _.map(a,function(a){return a.identifier})},getTypeName=function a(b,c){if(_.isString(b.type)){if(_.includes(getValidIdentifiers(c),b.type)){var d=_.find(c,{identifier:b.type});return a(d,c)}return b.type}return"Object"},resolveDefinition=function a(b,c){if(_.isString(b.type)&&_.includes(getValidIdentifiers(c),b.type)){var d=_.find(c,{identifier:b.type});return a(d,c)}return b},resolveType=function a(b,c){var d=getTypeName(b,c);if("Object"!==d)return d;if(!_.isString(b.type))return b.type;var e=_.find(c,{identifier:b.type});return a(e,c)},getTypeDefinition=function(a,b){var c=_.find(a,{identifier:b}),d=resolveType(c,a),e=_.isString(d)?_.find(a,{identifier:d}):c;return e},getObjectBasePropName=function(a,b,c){if(b&&"Object"===getTypeName(b,a)){var d=void 0,e=_.split(b.identifier,":");return d=c?_.includes(c,_.camelCase(e[1]))?c+"."+e[2]:c+"."+_.camelCase(e[1])+"."+e[2]:_.camelCase(e[1])+"."+e[2],d}},flagRequeredProps=function(a,b){return _.map(b,function(b){return _.merge(b,{required:_.includes(a,b.name)})})},getObjectTypeDefProps=function(a,b){if(b&&"Object"===getTypeName(b,a)){var c;if(b.type.properties)c=b.type.properties,c=flagRequeredProps(b.type.required,c);else{var d=_.find(a,{identifier:b.type}),e=resolveType(d,a);c=e.properties,c=flagRequeredProps(e.required,c)}return c}return[]},isValueOfType=function(a,b){return"String"===b?_.isString(a):"Number"===b?_.isNumber(a):!("Boolean"!=b)&&_.isBoolean(a)};module.exports={resolveType:resolveType,resolveDefinition:resolveDefinition,isValueOfType:isValueOfType,getTypeName:getTypeName,getValidIdentifiers:getValidIdentifiers,getTypeDefinition:getTypeDefinition,getObjectBasePropName:getObjectBasePropName,getObjectTypeDefProps:getObjectTypeDefProps};